{
	"info": {
		"_postman_id": "d570125c-bae2-4bb1-95b1-351f7a2e0a51",
		"name": "Polystage",
		"description": "Api polystage",
		"schema": "https://schema.getpostman.com/json/collection/v2.1.0/collection.json"
	},
	"item": [
		{
			"name": "Authentification",
			"item": [
				{
					"name": "http://localhost:5000/api/auth",
					"event": [
						{
							"listen": "test",
							"script": {
								"exec": [
									"pm.collectionVariables.set('token', pm.response.json().token);\r",
									""
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"auth": {
							"type": "noauth"
						},
						"method": "POST",
						"header": [],
						"body": {
							"mode": "raw",
							"raw": "{\r\n    \"email\": \"root@root.fr\",\r\n    \"password\": \"root\"\r\n}",
							"options": {
								"raw": {
									"language": "json"
								}
							}
						},
						"url": {
							"raw": "http://localhost:5000/api/auth",
							"protocol": "http",
							"host": [
								"localhost"
							],
							"port": "5000",
							"path": [
								"api",
								"auth"
							]
						},
						"description": "Login request"
					},
					"response": []
				},
				{
					"name": "http://localhost:5000/api/register",
					"event": [
						{
							"listen": "test",
							"script": {
								"exec": [
									"pm.collectionVariables.set('newUserId', pm.response.json().data.insertId);\r",
									""
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"method": "POST",
						"header": [],
						"body": {
							"mode": "raw",
							"raw": "{\r\n    \"lastname\": \"Jean\",\r\n    \"firstname\": \"Claude\",\r\n    \"email\": \"jean.claude@jc.fr\",\r\n    \"password\": \"root\",\r\n    \"role\": \"Etudiant\"\r\n}",
							"options": {
								"raw": {
									"language": "json"
								}
							}
						},
						"url": {
							"raw": "http://localhost:5000/api/register",
							"protocol": "http",
							"host": [
								"localhost"
							],
							"port": "5000",
							"path": [
								"api",
								"register"
							]
						},
						"description": "Register request"
					},
					"response": []
				}
			],
			"event": [
				{
					"listen": "prerequest",
					"script": {
						"type": "text/javascript",
						"exec": [
							""
						]
					}
				},
				{
					"listen": "test",
					"script": {
						"type": "text/javascript",
						"exec": [
							""
						]
					}
				}
			]
		},
		{
			"name": "Users",
			"item": [
				{
					"name": "http://localhost:5000/api/eleves",
					"event": [
						{
							"listen": "test",
							"script": {
								"exec": [
									"pm.collectionVariables.set('eleveId', pm.response.json().data[0].id);\r",
									""
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"auth": {
							"type": "bearer",
							"bearer": [
								{
									"key": "token",
									"value": "{{token}}",
									"type": "string"
								}
							]
						},
						"method": "GET",
						"header": [],
						"url": {
							"raw": "http://localhost:5000/api/eleves",
							"protocol": "http",
							"host": [
								"localhost"
							],
							"port": "5000",
							"path": [
								"api",
								"eleves"
							]
						}
					},
					"response": []
				},
				{
					"name": "http://localhost:5000/api/eleve/{{eleveId}}",
					"request": {
						"auth": {
							"type": "bearer",
							"bearer": [
								{
									"key": "token",
									"value": "{{token}}",
									"type": "string"
								}
							]
						},
						"method": "GET",
						"header": [],
						"url": {
							"raw": "http://localhost:5000/api/eleve/{{eleveId}}",
							"protocol": "http",
							"host": [
								"localhost"
							],
							"port": "5000",
							"path": [
								"api",
								"eleve",
								"{{eleveId}}"
							]
						}
					},
					"response": []
				},
				{
					"name": "http://localhost:5000/api/enseignants",
					"request": {
						"auth": {
							"type": "bearer",
							"bearer": [
								{
									"key": "token",
									"value": "{{token}}",
									"type": "string"
								}
							]
						},
						"method": "GET",
						"header": [],
						"url": {
							"raw": "http://localhost:5000/api/enseignants",
							"protocol": "http",
							"host": [
								"localhost"
							],
							"port": "5000",
							"path": [
								"api",
								"enseignants"
							]
						}
					},
					"response": []
				},
				{
					"name": "http://localhost:5000/api/tuteurs",
					"request": {
						"auth": {
							"type": "bearer",
							"bearer": [
								{
									"key": "token",
									"value": "{{token}}",
									"type": "string"
								}
							]
						},
						"method": "GET",
						"header": [],
						"url": {
							"raw": "http://localhost:5000/api/tuteurs",
							"protocol": "http",
							"host": [
								"localhost"
							],
							"port": "5000",
							"path": [
								"api",
								"tuteurs"
							]
						}
					},
					"response": []
				},
				{
					"name": "http://localhost:5000/api/users",
					"request": {
						"auth": {
							"type": "bearer",
							"bearer": [
								{
									"key": "token",
									"value": "{{token}}",
									"type": "string"
								}
							]
						},
						"method": "GET",
						"header": [],
						"url": {
							"raw": "http://localhost:5000/api/users",
							"protocol": "http",
							"host": [
								"localhost"
							],
							"port": "5000",
							"path": [
								"api",
								"users"
							]
						}
					},
					"response": []
				},
				{
					"name": "http://localhost:5000/api/user/{{userId}}",
					"request": {
						"auth": {
							"type": "bearer",
							"bearer": [
								{
									"key": "token",
									"value": "{{token}}",
									"type": "string"
								}
							]
						},
						"method": "GET",
						"header": [],
						"url": {
							"raw": "http://localhost:5000/api/user/14",
							"protocol": "http",
							"host": [
								"localhost"
							],
							"port": "5000",
							"path": [
								"api",
								"user",
								"14"
							]
						}
					},
					"response": []
				},
				{
					"name": "http://localhost:5000/api/user/{{newUserId}}",
					"request": {
						"auth": {
							"type": "bearer",
							"bearer": [
								{
									"key": "token",
									"value": "{{token}}",
									"type": "string"
								}
							]
						},
						"method": "DELETE",
						"header": [],
						"url": {
							"raw": "http://localhost:5000/api/user/{{newUserId}}",
							"protocol": "http",
							"host": [
								"localhost"
							],
							"port": "5000",
							"path": [
								"api",
								"user",
								"{{newUserId}}"
							]
						}
					},
					"response": []
				}
			],
			"description": "Users Requests",
			"event": [
				{
					"listen": "prerequest",
					"script": {
						"type": "text/javascript",
						"exec": [
							""
						]
					}
				},
				{
					"listen": "test",
					"script": {
						"type": "text/javascript",
						"exec": [
							""
						]
					}
				}
			]
		},
		{
			"name": "Stages",
			"item": [
				{
					"name": "http://localhost:5000/api/stages",
					"event": [
						{
							"listen": "test",
							"script": {
								"exec": [
									"pm.collectionVariables.set('stageId', pm.response.json().data[0].idstage);\r",
									""
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"auth": {
							"type": "bearer",
							"bearer": [
								{
									"key": "token",
									"value": "{{token}}",
									"type": "string"
								}
							]
						},
						"method": "GET",
						"header": [],
						"url": {
							"raw": "http://localhost:5000/api/stages",
							"protocol": "http",
							"host": [
								"localhost"
							],
							"port": "5000",
							"path": [
								"api",
								"stages"
							]
						}
					},
					"response": []
				},
				{
					"name": "http://localhost:5000/api/stage/{{stageId}}",
					"request": {
						"auth": {
							"type": "bearer",
							"bearer": [
								{
									"key": "token",
									"value": "{{token}}",
									"type": "string"
								}
							]
						},
						"method": "GET",
						"header": [],
						"url": {
							"raw": "http://localhost:5000/api/stage/1",
							"protocol": "http",
							"host": [
								"localhost"
							],
							"port": "5000",
							"path": [
								"api",
								"stage",
								"1"
							]
						}
					},
					"response": []
				},
				{
					"name": "http://localhost:5000/api/rapport/{{stageId}}",
					"request": {
						"auth": {
							"type": "bearer",
							"bearer": [
								{
									"key": "token",
									"value": "{{token}}",
									"type": "string"
								}
							]
						},
						"method": "GET",
						"header": [],
						"url": {
							"raw": "http://localhost:5000/api/rapport/{{stageId}}",
							"protocol": "http",
							"host": [
								"localhost"
							],
							"port": "5000",
							"path": [
								"api",
								"rapport",
								"{{stageId}}"
							]
						}
					},
					"response": []
				},
				{
					"name": "http://localhost:5000/api/dlrapport/{{stageId}}",
					"request": {
						"auth": {
							"type": "bearer",
							"bearer": [
								{
									"key": "token",
									"value": "{{token}}",
									"type": "string"
								}
							]
						},
						"method": "GET",
						"header": [],
						"url": {
							"raw": "http://localhost:5000/api/dlrapport/{{stageId}}",
							"protocol": "http",
							"host": [
								"localhost"
							],
							"port": "5000",
							"path": [
								"api",
								"dlrapport",
								"{{stageId}}"
							]
						}
					},
					"response": []
				},
				{
					"name": "http://localhost:5000/api/editstage",
					"request": {
						"auth": {
							"type": "bearer",
							"bearer": [
								{
									"key": "token",
									"value": "{{token}}",
									"type": "string"
								}
							]
						},
						"method": "PUT",
						"header": [],
						"body": {
							"mode": "raw",
							"raw": " {\r\n    \"idstage\": 1,\r\n    \"titrestage\": \"Super Stage up\",\r\n    \"description\": \"Un stage de Kalitey up\",\r\n    \"niveau\": \"5\",\r\n    \"annee\": 2019,\r\n    \"datedebut\": \"2077-04-06T22:00:00.000Z\",\r\n    \"datefin\": \"2078-05-06T22:00:00.000Z\",\r\n    \"nomentreprise\": \"AIRBUS\"\r\n}",
							"options": {
								"raw": {
									"language": "json"
								}
							}
						},
						"url": {
							"raw": "http://localhost:5000/api/editstage",
							"protocol": "http",
							"host": [
								"localhost"
							],
							"port": "5000",
							"path": [
								"api",
								"editstage"
							]
						}
					},
					"response": []
				},
				{
					"name": "http://localhost:5000/api/newstage",
					"event": [
						{
							"listen": "test",
							"script": {
								"exec": [
									"pm.collectionVariables.set('newStageId', pm.response.json().data.insertId);\r",
									""
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"auth": {
							"type": "bearer",
							"bearer": [
								{
									"key": "token",
									"value": "{{token}}",
									"type": "string"
								}
							]
						},
						"method": "POST",
						"header": [],
						"body": {
							"mode": "raw",
							"raw": "{\r\n    \"ideleve\": \"3\",\r\n    \"niveau\": \"5\",\r\n    \"annee\": \"2021\",\r\n    \"idtuteur\": \"5\",\r\n    \"idens\": \"4\",\r\n    \"datedebut\": \"2020-12-31\",\r\n    \"datefin\": \"2021-01-13\",\r\n    \"titrestage\": \"Stage de Kalitey\",\r\n    \"description\": \"Un Stage de test\",\r\n    \"nomentreprise\": \"CGI\",\r\n    \"adressestage\": \"3 rue du test\",\r\n    \"adremailstage\": \"test@test.fr\",\r\n    \"cheminrapport\": \"cheminrapport\",\r\n    \"daterapport\": \"2021-01-30 00:00:00\",\r\n    \"cheminpres\": \"cheminpres\",\r\n    \"datepres\": \"2021-02-12 00:00:00\",\r\n    \"chemineval\": \"chemineval\",\r\n    \"dateeval\": \"2021-03-11 00:00:00\",\r\n    \"evallancee\": \"2021-02-01 00:00:00\",\r\n    \"confidentiel\": \"1\",\r\n    \"datelimiterendu\": \"2021-04-16\",\r\n    \"datelimiteeval\": \"2021-05-14\",\r\n    \"datesoutenance\": \"2021-10-16\",\r\n    \"datecomp\": \"2021-09-16\",\r\n    \"chemincomp\": \"chemincomp\"\r\n\r\n}",
							"options": {
								"raw": {
									"language": "json"
								}
							}
						},
						"url": {
							"raw": "http://localhost:5000/api/newstage",
							"protocol": "http",
							"host": [
								"localhost"
							],
							"port": "5000",
							"path": [
								"api",
								"newstage"
							]
						}
					},
					"response": []
				},
				{
					"name": "http://localhost:5000/api/stage/{{newStageId}}",
					"request": {
						"auth": {
							"type": "bearer",
							"bearer": [
								{
									"key": "token",
									"value": "{{token}}",
									"type": "string"
								}
							]
						},
						"method": "DELETE",
						"header": [],
						"url": {
							"raw": "http://localhost:5000/api/stage/{{newStageId}}",
							"protocol": "http",
							"host": [
								"localhost"
							],
							"port": "5000",
							"path": [
								"api",
								"stage",
								"{{newStageId}}"
							]
						}
					},
					"response": []
				}
			],
			"description": "Stages Requests",
			"event": [
				{
					"listen": "prerequest",
					"script": {
						"type": "text/javascript",
						"exec": [
							""
						]
					}
				},
				{
					"listen": "test",
					"script": {
						"type": "text/javascript",
						"exec": [
							""
						]
					}
				}
			]
		},
		{
			"name": "Questions",
			"item": [
				{
					"name": "http://localhost:5000/api/questions",
					"request": {
						"auth": {
							"type": "bearer",
							"bearer": [
								{
									"key": "token",
									"value": "{{token}}",
									"type": "string"
								}
							]
						},
						"method": "GET",
						"header": [],
						"url": {
							"raw": "http://localhost:5000/api//questions",
							"protocol": "http",
							"host": [
								"localhost"
							],
							"port": "5000",
							"path": [
								"api",
								"",
								"questions"
							]
						}
					},
					"response": []
				},
				{
					"name": "http://localhost:5000/api/competences",
					"request": {
						"auth": {
							"type": "bearer",
							"bearer": [
								{
									"key": "token",
									"value": "{{token}}",
									"type": "string"
								}
							]
						},
						"method": "GET",
						"header": [],
						"url": {
							"raw": "http://localhost:5000/api/competences",
							"protocol": "http",
							"host": [
								"localhost"
							],
							"port": "5000",
							"path": [
								"api",
								"competences"
							]
						}
					},
					"response": []
				}
			],
			"description": "Questions Requests",
			"event": [
				{
					"listen": "prerequest",
					"script": {
						"type": "text/javascript",
						"exec": [
							""
						]
					}
				},
				{
					"listen": "test",
					"script": {
						"type": "text/javascript",
						"exec": [
							""
						]
					}
				}
			]
		},
		{
			"name": "Retard",
			"item": [
				{
					"name": "http://localhost:5000/api/retardeleve",
					"request": {
						"auth": {
							"type": "bearer",
							"bearer": [
								{
									"key": "token",
									"value": "{{token}}",
									"type": "string"
								}
							]
						},
						"method": "GET",
						"header": [],
						"url": {
							"raw": "http://localhost:5000/api/retardeleve",
							"protocol": "http",
							"host": [
								"localhost"
							],
							"port": "5000",
							"path": [
								"api",
								"retardeleve"
							]
						}
					},
					"response": []
				},
				{
					"name": "http://localhost:5000/api/retardtuteur",
					"request": {
						"auth": {
							"type": "bearer",
							"bearer": [
								{
									"key": "token",
									"value": "{{token}}",
									"type": "string"
								}
							]
						},
						"method": "GET",
						"header": [],
						"url": {
							"raw": "http://localhost:5000/api/retardtuteur",
							"protocol": "http",
							"host": [
								"localhost"
							],
							"port": "5000",
							"path": [
								"api",
								"retardtuteur"
							]
						}
					},
					"response": []
				},
				{
					"name": "http://localhost:5000/api/retardeleve",
					"request": {
						"auth": {
							"type": "bearer",
							"bearer": [
								{
									"key": "token",
									"value": "{{token}}",
									"type": "string"
								}
							]
						},
						"method": "POST",
						"header": [],
						"body": {
							"mode": "raw",
							"raw": "{\r\n    \"iduti\": {{eleveId}},\r\n    \"mailenvoye\": \"1\",\r\n    \"rapport\": \"1\",\r\n    \"presentation\": \"1\",\r\n    \"autoeval\": \"1\"\r\n}",
							"options": {
								"raw": {
									"language": "json"
								}
							}
						},
						"url": {
							"raw": "http://localhost:5000/api/retardeleve",
							"protocol": "http",
							"host": [
								"localhost"
							],
							"port": "5000",
							"path": [
								"api",
								"retardeleve"
							]
						}
					},
					"response": []
				},
				{
					"name": "http://localhost:5000/api/retardtuteur",
					"request": {
						"auth": {
							"type": "bearer",
							"bearer": [
								{
									"key": "token",
									"value": "{{token}}",
									"type": "string"
								}
							]
						},
						"method": "POST",
						"header": [],
						"body": {
							"mode": "raw",
							"raw": "{\r\n    \"iduti\": {{tuteurId}},\r\n    \"mailenvoye\": \"1\"\r\n}",
							"options": {
								"raw": {
									"language": "json"
								}
							}
						},
						"url": {
							"raw": "http://localhost:5000/api/retardtuteur",
							"protocol": "http",
							"host": [
								"localhost"
							],
							"port": "5000",
							"path": [
								"api",
								"retardtuteur"
							]
						}
					},
					"response": []
				},
				{
					"name": "http://localhost:5000/api/retardtuteur/{{tuteurId}}",
					"request": {
						"auth": {
							"type": "bearer",
							"bearer": [
								{
									"key": "token",
									"value": "{{token}}",
									"type": "string"
								}
							]
						},
						"method": "PATCH",
						"header": [],
						"body": {
							"mode": "raw",
							"raw": "{\r\n    \"mailenvoye\": \"1\"\r\n}",
							"options": {
								"raw": {
									"language": "json"
								}
							}
						},
						"url": {
							"raw": "http://localhost:5000/api/retardtuteur/5",
							"protocol": "http",
							"host": [
								"localhost"
							],
							"port": "5000",
							"path": [
								"api",
								"retardtuteur",
								"5"
							]
						}
					},
					"response": []
				},
				{
					"name": "http://localhost:5000/api/retardeleve/{{eleveId}}",
					"request": {
						"auth": {
							"type": "bearer",
							"bearer": [
								{
									"key": "token",
									"value": "{{token}}",
									"type": "string"
								}
							]
						},
						"method": "PATCH",
						"header": [],
						"body": {
							"mode": "raw",
							"raw": "{\r\n    \"mailenvoye\": \"0\",\r\n    \"rapport\": \"0\",\r\n    \"presentation\": \"1\",\r\n    \"autoeval\": \"0\"\r\n}",
							"options": {
								"raw": {
									"language": "json"
								}
							}
						},
						"url": {
							"raw": "http://localhost:5000/api/retardeleve/{{eleveId}}",
							"protocol": "http",
							"host": [
								"localhost"
							],
							"port": "5000",
							"path": [
								"api",
								"retardeleve",
								"{{eleveId}}"
							]
						}
					},
					"response": []
				},
				{
					"name": "http://localhost:5000/api/retardtuteur/{{tuteurId}}",
					"request": {
						"auth": {
							"type": "bearer",
							"bearer": [
								{
									"key": "token",
									"value": "{{token}}",
									"type": "string"
								}
							]
						},
						"method": "DELETE",
						"header": [],
						"url": {
							"raw": "http://localhost:5000/api/retardtuteur/5",
							"protocol": "http",
							"host": [
								"localhost"
							],
							"port": "5000",
							"path": [
								"api",
								"retardtuteur",
								"5"
							]
						}
					},
					"response": []
				},
				{
					"name": "http://localhost:5000/api/retardeleve/{{eleveId}}",
					"request": {
						"auth": {
							"type": "bearer",
							"bearer": [
								{
									"key": "token",
									"value": "{{token}}",
									"type": "string"
								}
							]
						},
						"method": "DELETE",
						"header": [],
						"url": {
							"raw": "http://localhost:5000/api/retardeleve/{{eleveId}}",
							"protocol": "http",
							"host": [
								"localhost"
							],
							"port": "5000",
							"path": [
								"api",
								"retardeleve",
								"{{eleveId}}"
							]
						}
					},
					"response": []
				}
			],
			"description": "Retard Requests",
			"event": [
				{
					"listen": "prerequest",
					"script": {
						"type": "text/javascript",
						"exec": [
							""
						]
					}
				},
				{
					"listen": "test",
					"script": {
						"type": "text/javascript",
						"exec": [
							""
						]
					}
				}
			]
		}
	],
	"event": [
		{
			"listen": "prerequest",
			"script": {
				"type": "text/javascript",
				"exec": [
					""
				]
			}
		},
		{
			"listen": "test",
			"script": {
				"type": "text/javascript",
				"exec": [
					"pm.test(\"Status code is 200\", function () {",
					"    pm.response.to.have.status(200);",
					"});"
				]
			}
		}
	],
	"variable": [
		{
			"key": "token",
			"value": ""
		},
		{
			"key": "stageId",
			"value": ""
		},
		{
			"key": "newStageId",
			"value": ""
		},
		{
			"key": "eleveId",
			"value": ""
		},
		{
			"key": "userId",
			"value": ""
		},
		{
			"key": "tuteurId",
			"value": ""
		},
		{
			"key": "ensId",
			"value": ""
		},
		{
			"key": "newUserId",
			"value": ""
		}
	]
}